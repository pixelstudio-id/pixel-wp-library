/*! For license information please see px-block-quote.js.LICENSE.txt */
(()=>{var e={400:()=>{},20:(e,t,r)=>{"use strict";var o=r(609),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var o,c={},s=null,u=null;for(o in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,o)&&!i.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===c[o]&&(c[o]=t[o]);return{$$typeof:n,type:e,key:s,ref:u,props:c,_owner:l.current}}},848:(e,t,r)=>{"use strict";e.exports=r(20)},609:e=>{"use strict";e.exports=window.React},942:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)o.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.primitives;var o=r(848);const n=(0,o.jsx)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(t.Path,{d:"M13 6v6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H13zm-9 6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H4v6z"})}),a=window.wp.blocks,l=window.wp.domReady;var i=r.n(l),c=r(609);const s=window.lodash,u=window.wp.blockEditor,p={value:{type:"string",source:"html",selector:"blockquote",multiline:"p",default:""},citation:{type:"string",source:"html",selector:"cite",default:""},align:{type:"string"}},m=[{attributes:p,save({attributes:e}){const{align:t,value:r,citation:o}=e;return(0,c.createElement)("blockquote",{style:{textAlign:t||null}},(0,c.createElement)(u.RichText.Content,{multiline:!0,value:r}),!u.RichText.isEmpty(o)&&(0,c.createElement)(u.RichText.Content,{tagName:"cite",value:o}))}},{attributes:{...p,style:{type:"number",default:1}},migrate:e=>2===e.style?{...(0,s.omit)(e,["style"]),className:e.className?e.className+" is-style-large":"is-style-large"}:e,save({attributes:e}){const{align:t,value:r,citation:o,style:n}=e;return(0,c.createElement)("blockquote",{className:2===n?"is-large":"",style:{textAlign:t||null}},(0,c.createElement)(u.RichText.Content,{multiline:!0,value:r}),!u.RichText.isEmpty(o)&&(0,c.createElement)(u.RichText.Content,{tagName:"cite",value:o}))}},{attributes:{...p,citation:{type:"string",source:"html",selector:"footer",default:""},style:{type:"number",default:1}},migrate:e=>isNaN(parseInt(e.style))?e:{...(0,s.omit)(e,["style"])},save({attributes:e}){const{align:t,value:r,citation:o,style:n}=e;return(0,c.createElement)("blockquote",{className:`blocks-quote-style-${n}`,style:{textAlign:t||null}},(0,c.createElement)(u.RichText.Content,{multiline:!0,value:r}),!u.RichText.isEmpty(o)&&(0,c.createElement)(u.RichText.Content,{tagName:"footer",value:o}))}}];var h=r(942),g=r.n(h);const v=window.wp.components,y="web"===window.wp.element.Platform.OS;function d({attributes:t,setAttributes:r,isSelected:o,mergeBlocks:n,onReplace:l,className:i,insertBlocksAfter:s,style:p}){const{align:m,value:h,citation:d}=t,f=(0,u.useBlockProps)({className:g()(i,{[`has-text-align-${m}`]:m}),style:p});return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(u.BlockControls,{group:"block"},(0,c.createElement)(u.AlignmentControl,{value:m,onChange:e=>{r({align:e})}})),(0,c.createElement)(v.BlockQuotation,{...f},(0,c.createElement)(u.RichText,{identifier:"value",multiline:!0,value:h,onChange:e=>r({value:e}),onMerge:n,onRemove:e=>{const t=!d||0===d.length;!e&&t&&l([])},"aria-label":(0,e.__)("Quote text"),placeholder:(0,e.__)("Add quote"),onReplace:l,onSplit:e=>(0,a.createBlock)("core/quote",{...t,value:e}),__unstableOnSplitMiddle:()=>(0,a.createBlock)("core/paragraph"),textAlign:m}),(!u.RichText.isEmpty(d)||o)&&(0,c.createElement)(u.RichText,{identifier:"citation",tagName:y?"cite":void 0,style:{display:"block"},value:d,onChange:e=>r({citation:e}),__unstableMobileNoFocusOnMount:!0,"aria-label":(0,e.__)("Quote citation text"),placeholder:(0,e.__)("Add citation"),className:"wp-block-quote__citation",textAlign:m,__unstableOnSplitAtEnd:()=>s((0,a.createBlock)("core/paragraph"))})))}function f({attributes:e}){const{align:t,value:r,citation:o}=e,n=g()({[`has-text-align-${t}`]:t});return(0,c.createElement)("blockquote",{...u.useBlockProps.save({className:n})},(0,c.createElement)(u.RichText.Content,{multiline:!0,value:r}),!u.RichText.isEmpty(o)&&(0,c.createElement)(u.RichText.Content,{tagName:"cite",value:o}))}const b=window.wp.richText,x={from:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>(0,a.createBlock)("core/quote",{value:(0,b.toHTMLString)({value:(0,b.join)(e.map((({content:e})=>(0,b.create)({html:e}))),"\u2028"),multilineTag:"p"}),anchor:e.anchor})},{type:"block",blocks:["core/heading"],transform:({content:e,anchor:t})=>(0,a.createBlock)("core/quote",{value:`<p>${e}</p>`,anchor:t})},{type:"block",blocks:["core/pullquote"],transform:({value:e,citation:t,anchor:r})=>(0,a.createBlock)("core/quote",{value:e,citation:t,anchor:r})},{type:"prefix",prefix:">",transform:e=>(0,a.createBlock)("core/quote",{value:`<p>${e}</p>`})},{type:"raw",isMatch:e=>{const t=(()=>{let e=!1;return t=>"P"===t.nodeName||(e||"CITE"!==t.nodeName?void 0:(e=!0,!0))})();return"BLOCKQUOTE"===e.nodeName&&Array.from(e.childNodes).every(t)},schema:({phrasingContentSchema:e})=>({blockquote:{children:{p:{children:e},cite:{children:e}}}})}],to:[{type:"block",blocks:["core/paragraph"],transform:({value:e,citation:t})=>{const r=[];return e&&"<p></p>"!==e&&r.push(...(0,b.split)((0,b.create)({html:e,multilineTag:"p"}),"\u2028").map((e=>(0,a.createBlock)("core/paragraph",{content:(0,b.toHTMLString)({value:e})})))),t&&"<p></p>"!==t&&r.push((0,a.createBlock)("core/paragraph",{content:t})),0===r.length?(0,a.createBlock)("core/paragraph",{content:""}):r}},{type:"block",blocks:["core/heading"],transform:({value:e,citation:t,...r})=>{if("<p></p>"===e)return(0,a.createBlock)("core/heading",{content:t});const o=(0,b.split)((0,b.create)({html:e,multilineTag:"p"}),"\u2028"),n=(0,a.createBlock)("core/heading",{content:(0,b.toHTMLString)({value:o[0]})});if(!t&&1===o.length)return n;const l=o.slice(1);return[n,(0,a.createBlock)("core/quote",{...r,citation:t,value:(0,b.toHTMLString)({value:l.length?(0,b.join)(o.slice(1),"\u2028"):(0,b.create)(),multilineTag:"p"})})]}},{type:"block",blocks:["core/pullquote"],transform:({value:e,citation:t,anchor:r})=>(0,a.createBlock)("core/pullquote",{value:e,citation:t,anchor:r})}]},_=JSON.parse('{"UU":"core/quote","DD":"Quote","h_":"Give quoted text visual emphasis. \\"In quoting others, we cite ourselves.\\" — Julio Cortázar","uK":{"value":{"type":"string","source":"html","selector":"blockquote","multiline":"p","default":"","__experimentalRole":"content"},"citation":{"type":"string","source":"html","selector":"cite","default":"","__experimentalRole":"content"},"align":{"type":"string"}},"xY":{"anchor":true,"__experimentalSlashInserter":true,"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalDefaultControls":{"fontSize":true,"fontAppearance":true}},"color":{"background":true,"text":true}},"R7":[]}');r(400),i()((()=>{(0,a.unregisterBlockType)("core/quote");const{UU:t,DD:r,h_:o,uK:l,xY:i,R7:c}=_;(0,a.registerBlockType)(t,{icon:n,title:r,description:o,attributes:l,supports:i,styles:c,example:{attributes:{value:`<p> ${(0,e.__)("In quoting others, we cite ourselves.")}</p>`,citation:"Julio Cortázar",className:"is-style-large"}},transforms:x,edit:d,save:f,merge:(e,{value:t,citation:r})=>(r||(r=e.citation),t&&"<p></p>"!==t?{...e,value:e.value+t,citation:r}:{...e,citation:r}),deprecated:m})}))})()})();